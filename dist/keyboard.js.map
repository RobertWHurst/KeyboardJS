{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap f7d0c065896e51f6122c","webpack:///./index.js","webpack:///./lib/keyboard.js","webpack:///./lib/locale.js","webpack:///./lib/key-combo.js","webpack:///./locales/us.js"],"names":["keyboard","setLocale","module","exports","Keyboard","Locale","KeyCombo","targetWindow","targetElement","platform","userAgent","_locale","_currentContext","_contexts","_listeners","_appliedListeners","_locales","_targetElement","_targetWindow","_targetPlatform","_targetUserAgent","_isModernBrowser","_targetKeyDownBinding","_targetKeyUpBinding","_targetResetBinding","_paused","setContext","watch","localeName","localeBuilder","locale","_localeName","pressedKeys","localName","keyComboStr","pressHandler","releaseHandler","preventRepeatByDefault","length","i","bind","push","keyCombo","preventRepeat","unbind","listener","comboMatches","isEqual","pressHandlerMatches","releaseHandlerMatches","splice","contextName","releaseAllKeys","callback","previousContextName","getContext","targetPlatform","targetUserAgent","stop","global","addEventListener","attachEvent","Error","nodeType","navigator","document","pressKey","event","keyCode","releaseKey","_bindEvent","_unbindEvent","_applyBindings","_clearBindings","eventName","handler","removeEventListener","detachEvent","listenerGroups","listenerGroupMap","listeners","concat","sort","a","b","keyNames","forEach","mapIndex","l","slice","_getGroupedListeners","check","j","join","call","includes","index","indexOf","prototype","addListener","on","removeListener","off","name","_appliedMacros","_keyMap","_killKeyCodes","_macros","macro","keyName","keyCodes","getKeyCodes","setKillKey","getKeyNames","_applyMacros","killKeyCodeIndex","_clearMacros","macros","sourceStr","subCombos","parseComboStr","reduce","memo","nextSubCombo","pressedKeyNames","startingKeyNameIndex","_checkSubCombo","otherKeyCombo","subCombo","otherSubCombo","endIndex","escapedKeyName","comboDeliminator","keyDeliminator","sequenceDeliminator","subComboStrs","_splitStr","combo","str","deliminator","s","d","c","ca","ci","trim","bindKeyCode","bindMacro","String","fromCharCode","capitalKeyName","semicolonKeyCode","match","dashKeyCode","leftCommandKeyCode","rightCommandKeyCode"],"mappings":"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","file":"keyboard.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"keyboardJS\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"keyboardJS\"] = factory();\n\telse\n\t\troot[\"keyboardJS\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f7d0c065896e51f6122c","\nimport Keyboard from './lib/keyboard';\nimport Locale from './lib/locale';\nimport KeyCombo from './lib/key-combo';\nimport usLocale from './locales/us';\n\nconst keyboard = new Keyboard();\nkeyboard.setLocale('us', usLocale);\n\nmodule.exports = keyboard;\nexport { Keyboard };\nexport { Locale} ;\nexport { KeyCombo };\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","\nimport Locale from './locale';\nimport KeyCombo from './key-combo';\n\n\nclass Keyboard {\n  constructor(targetWindow, targetElement, platform, userAgent) {\n    this._locale               = null;\n    this._currentContext       = null;\n    this._contexts             = {};\n    this._listeners            = [];\n    this._appliedListeners     = [];\n    this._locales              = {};\n    this._targetElement        = null;\n    this._targetWindow         = null;\n    this._targetPlatform       = '';\n    this._targetUserAgent      = '';\n    this._isModernBrowser      = false;\n    this._targetKeyDownBinding = null;\n    this._targetKeyUpBinding   = null;\n    this._targetResetBinding   = null;\n    this._paused               = false;\n\n    this.setContext('global');\n    this.watch(targetWindow, targetElement, platform, userAgent);\n  }\n\n  setLocale(localeName, localeBuilder) {\n    let locale = null;\n    if (typeof localeName === 'string') {\n\n      if (localeBuilder) {\n        locale = new Locale(localeName);\n        localeBuilder(locale, this._targetPlatform, this._targetUserAgent);\n      } else {\n        locale = this._locales[localeName] || null;\n      }\n    } else {\n      locale     = localeName;\n      localeName = locale._localeName;\n    }\n\n    this._locale              = locale;\n    this._locales[localeName] = locale;\n    if (locale) {\n      this._locale.pressedKeys = locale.pressedKeys;\n    }\n  }\n\n  getLocale(localName) {\n    localName || (localName = this._locale.localeName);\n    return this._locales[localName] || null;\n  }\n\n  bind(keyComboStr, pressHandler, releaseHandler, preventRepeatByDefault) {\n    if (keyComboStr === null || typeof keyComboStr === 'function') {\n      preventRepeatByDefault = releaseHandler;\n      releaseHandler         = pressHandler;\n      pressHandler           = keyComboStr;\n      keyComboStr            = null;\n    }\n\n    if (\n      keyComboStr &&\n      typeof keyComboStr === 'object' &&\n      typeof keyComboStr.length === 'number'\n    ) {\n      for (let i = 0; i < keyComboStr.length; i += 1) {\n        this.bind(keyComboStr[i], pressHandler, releaseHandler);\n      }\n      return;\n    }\n\n    this._listeners.push({\n      keyCombo               : keyComboStr ? new KeyCombo(keyComboStr) : null,\n      pressHandler           : pressHandler           || null,\n      releaseHandler         : releaseHandler         || null,\n      preventRepeat          : preventRepeatByDefault || false,\n      preventRepeatByDefault : preventRepeatByDefault || false\n    });\n  }\n\n  unbind(keyComboStr, pressHandler, releaseHandler) {\n    if (keyComboStr === null || typeof keyComboStr === 'function') {\n      releaseHandler = pressHandler;\n      pressHandler   = keyComboStr;\n      keyComboStr = null;\n    }\n\n    if (\n      keyComboStr &&\n      typeof keyComboStr === 'object' &&\n      typeof keyComboStr.length === 'number'\n    ) {\n      for (var i = 0; i < keyComboStr.length; i += 1) {\n        this.unbind(keyComboStr[i], pressHandler, releaseHandler);\n      }\n      return;\n    }\n\n    for (var i = 0; i < this._listeners.length; i += 1) {\n      const listener = this._listeners[i];\n\n      const comboMatches          = !keyComboStr && !listener.keyCombo ||\n                                  listener.keyCombo && listener.keyCombo.isEqual(keyComboStr);\n      const pressHandlerMatches   = !pressHandler && !releaseHandler ||\n                                  !pressHandler && !listener.pressHandler ||\n                                  pressHandler === listener.pressHandler;\n      const releaseHandlerMatches = !pressHandler && !releaseHandler ||\n                                  !releaseHandler && !listener.releaseHandler ||\n                                  releaseHandler === listener.releaseHandler;\n\n      if (comboMatches && pressHandlerMatches && releaseHandlerMatches) {\n        this._listeners.splice(i, 1);\n        i -= 1;\n      }\n    }\n  }\n\n  setContext(contextName) {\n    if(this._locale) { this.releaseAllKeys(); }\n\n    if (!this._contexts[contextName]) {\n      this._contexts[contextName] = [];\n    }\n    this._listeners      = this._contexts[contextName];\n    this._currentContext = contextName;\n  }\n\n  getContext() {\n    return this._currentContext;\n  }\n\n  withContext(contextName, callback) {\n    const previousContextName = this.getContext();\n    this.setContext(contextName);\n\n    callback();\n\n    this.setContext(previousContextName);\n  }\n\n  watch(targetWindow, targetElement, targetPlatform, targetUserAgent) {\n    this.stop();\n\n    if (!targetWindow) {\n      if (!global.addEventListener && !global.attachEvent) {\n        throw new Error('Cannot find global functions addEventListener or attachEvent.');\n      }\n      targetWindow = global;\n    }\n\n    if (typeof targetWindow.nodeType === 'number') {\n      targetUserAgent = targetPlatform;\n      targetPlatform  = targetElement;\n      targetElement   = targetWindow;\n      targetWindow    = global;\n    }\n\n    if (!targetWindow.addEventListener && !targetWindow.attachEvent) {\n      throw new Error('Cannot find addEventListener or attachEvent methods on targetWindow.');\n    }\n\n    this._isModernBrowser = !!targetWindow.addEventListener;\n\n    const userAgent = targetWindow.navigator && targetWindow.navigator.userAgent || '';\n    const platform  = targetWindow.navigator && targetWindow.navigator.platform  || '';\n\n    targetElement   && targetElement   !== null || (targetElement   = targetWindow.document);\n    targetPlatform  && targetPlatform  !== null || (targetPlatform  = platform);\n    targetUserAgent && targetUserAgent !== null || (targetUserAgent = userAgent);\n\n    this._targetKeyDownBinding = event => {\n      this.pressKey(event.keyCode, event);\n    };\n    this._targetKeyUpBinding = event => {\n      this.releaseKey(event.keyCode, event);\n    };\n    this._targetResetBinding = event => {\n      this.releaseAllKeys(event)\n    };\n\n    this._bindEvent(targetElement, 'keydown', this._targetKeyDownBinding);\n    this._bindEvent(targetElement, 'keyup',   this._targetKeyUpBinding);\n    this._bindEvent(targetWindow,  'focus',   this._targetResetBinding);\n    this._bindEvent(targetWindow,  'blur',    this._targetResetBinding);\n\n    this._targetElement   = targetElement;\n    this._targetWindow    = targetWindow;\n    this._targetPlatform  = targetPlatform;\n    this._targetUserAgent = targetUserAgent;\n  }\n\n  stop() {\n    if (!this._targetElement || !this._targetWindow) { return; }\n\n    this._unbindEvent(this._targetElement, 'keydown', this._targetKeyDownBinding);\n    this._unbindEvent(this._targetElement, 'keyup',   this._targetKeyUpBinding);\n    this._unbindEvent(this._targetWindow,  'focus',   this._targetResetBinding);\n    this._unbindEvent(this._targetWindow,  'blur',    this._targetResetBinding);\n\n    this._targetWindow  = null;\n    this._targetElement = null;\n  }\n\n  pressKey(keyCode, event) {\n    if (this._paused) { return; }\n    if (!this._locale) { throw new Error('Locale not set'); }\n\n    this._locale.pressKey(keyCode);\n    this._applyBindings(event);\n  }\n\n  releaseKey(keyCode, event) {\n    if (this._paused) { return; }\n    if (!this._locale) { throw new Error('Locale not set'); }\n\n    this._locale.releaseKey(keyCode);\n    this._clearBindings(event);\n  }\n\n  releaseAllKeys(event) {\n    if (this._paused) { return; }\n    if (!this._locale) { throw new Error('Locale not set'); }\n\n    this._locale.pressedKeys.length = 0;\n    this._clearBindings(event);\n  }\n\n  pause() {\n    if (this._paused) { return; }\n    if (this._locale) { this.releaseAllKeys(); }\n    this._paused = true;\n  }\n\n  resume() {\n    this._paused = false;\n  }\n\n  reset() {\n    this.releaseAllKeys();\n    this._listeners.length = 0;\n  }\n\n  _bindEvent(targetElement, eventName, handler) {\n    return this._isModernBrowser ?\n      targetElement.addEventListener(eventName, handler, false) :\n      targetElement.attachEvent(`on${eventName}`, handler);\n  }\n\n  _unbindEvent(targetElement, eventName, handler) {\n    return this._isModernBrowser ?\n      targetElement.removeEventListener(eventName, handler, false) :\n      targetElement.detachEvent(`on${eventName}`, handler);\n  }\n\n  _getGroupedListeners() {\n    const listenerGroups   = [];\n    const listenerGroupMap = [];\n\n    let listeners = this._listeners;\n    if (this._currentContext !== 'global') {\n      listeners = [].concat(listeners, this._contexts.global);\n    }\n\n    listeners\n      .sort((a, b) => (b.keyCombo ? b.keyCombo.keyNames.length : 0) - (a.keyCombo ? a.keyCombo.keyNames.length : 0))\n      .forEach(l => {\n        let mapIndex = -1;\n        for (let i = 0; i < listenerGroupMap.length; i += 1) {\n          if (listenerGroupMap[i] === null && l.keyCombo === null ||\n              listenerGroupMap[i] !== null && listenerGroupMap[i].isEqual(l.keyCombo)) {\n            mapIndex = i;\n          }\n        }\n        if (mapIndex === -1) {\n          mapIndex = listenerGroupMap.length;\n          listenerGroupMap.push(l.keyCombo);\n        }\n        if (!listenerGroups[mapIndex]) {\n          listenerGroups[mapIndex] = [];\n        }\n        listenerGroups[mapIndex].push(l);\n      });\n    return listenerGroups;\n  }\n\n  _applyBindings(event) {\n    let preventRepeat = false;\n\n    event || (event = {});\n    event.preventRepeat = () => { preventRepeat = true; };\n    event.pressedKeys   = this._locale.pressedKeys.slice(0);\n\n    const pressedKeys    = this._locale.pressedKeys.slice(0);\n    const listenerGroups = this._getGroupedListeners();\n\n\n    for (let i = 0; i < listenerGroups.length; i += 1) {\n      const listeners = listenerGroups[i];\n      const keyCombo  = listeners[0].keyCombo;\n\n      if (keyCombo === null || keyCombo.check(pressedKeys)) {\n        for (var j = 0; j < listeners.length; j += 1) {\n          let listener = listeners[j];\n\n          if (keyCombo === null) {\n            listener = {\n              keyCombo               : new KeyCombo(pressedKeys.join('+')),\n              pressHandler           : listener.pressHandler,\n              releaseHandler         : listener.releaseHandler,\n              preventRepeat          : listener.preventRepeat,\n              preventRepeatByDefault : listener.preventRepeatByDefault\n            };\n          }\n\n          if (listener.pressHandler && !listener.preventRepeat) {\n            listener.pressHandler.call(this, event);\n            if (preventRepeat) {\n              listener.preventRepeat = preventRepeat;\n              preventRepeat          = false;\n            }\n          }\n\n          if (listener.releaseHandler && !this._appliedListeners.includes(listener)) {\n            this._appliedListeners.push(listener);\n          }\n        }\n\n        if (keyCombo) {\n          for (var j = 0; j < keyCombo.keyNames.length; j += 1) {\n            const index = pressedKeys.indexOf(keyCombo.keyNames[j]);\n            if (index !== -1) {\n              pressedKeys.splice(index, 1);\n              j -= 1;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  _clearBindings(event) {\n    event || (event = {});\n\n    for (let i = 0; i < this._appliedListeners.length; i += 1) {\n      const listener = this._appliedListeners[i];\n      const keyCombo = listener.keyCombo;\n      if (keyCombo === null || !keyCombo.check(this._locale.pressedKeys)) {\n        listener.preventRepeat = listener.preventRepeatByDefault;\n        listener.releaseHandler.call(this, event);\n        this._appliedListeners.splice(i, 1);\n        i -= 1;\n      }\n    }\n  }\n}\n\nKeyboard.prototype.addListener = Keyboard.prototype.bind;\nKeyboard.prototype.on          = Keyboard.prototype.bind;\n\nKeyboard.prototype.removeListener = Keyboard.prototype.unbind;\nKeyboard.prototype.off            = Keyboard.prototype.unbind;\n\nexport default Keyboard;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/keyboard.js","\nimport KeyCombo from './key-combo';\n\n\nclass Locale {\n  constructor(name) {\n    this.localeName     = name;\n    this.pressedKeys    = [];\n    this._appliedMacros = [];\n    this._keyMap        = {};\n    this._killKeyCodes  = [];\n    this._macros        = [];\n  }\n\n  bindKeyCode(keyCode, keyNames) {\n    if (typeof keyNames === 'string') {\n      keyNames = [keyNames];\n    }\n\n    this._keyMap[keyCode] = keyNames;\n  }\n\n  bindMacro(keyComboStr, keyNames) {\n    if (typeof keyNames === 'string') {\n      keyNames = [ keyNames ];\n    }\n\n    let handler = null;\n    if (typeof keyNames === 'function') {\n      handler = keyNames;\n      keyNames = null;\n    }\n\n    const macro = {\n      keyCombo : new KeyCombo(keyComboStr),\n      keyNames,\n      handler\n    };\n\n    this._macros.push(macro);\n  }\n\n  getKeyCodes(keyName) {\n    const keyCodes = [];\n    for (const keyCode in this._keyMap) {\n      const index = this._keyMap[keyCode].indexOf(keyName);\n      if (index > -1) { keyCodes.push(keyCode|0); }\n    }\n    return keyCodes;\n  }\n\n  getKeyNames(keyCode) {\n    return this._keyMap[keyCode] || [];\n  }\n\n  setKillKey(keyCode) {\n    if (typeof keyCode === 'string') {\n      const keyCodes = this.getKeyCodes(keyCode);\n      for (let i = 0; i < keyCodes.length; i += 1) {\n        this.setKillKey(keyCodes[i]);\n      }\n      return;\n    }\n\n    this._killKeyCodes.push(keyCode);\n  }\n\n  pressKey(keyCode) {\n    if (typeof keyCode === 'string') {\n      const keyCodes = this.getKeyCodes(keyCode);\n      for (var i = 0; i < keyCodes.length; i += 1) {\n        this.pressKey(keyCodes[i]);\n      }\n      return;\n    }\n\n    const keyNames = this.getKeyNames(keyCode);\n    for (var i = 0; i < keyNames.length; i += 1) {\n      if (!this.pressedKeys.includes(keyNames[i])) {\n        this.pressedKeys.push(keyNames[i]);\n      }\n    }\n\n    this._applyMacros();\n  }\n\n  releaseKey(keyCode) {\n    if (typeof keyCode === 'string') {\n      const keyCodes = this.getKeyCodes(keyCode);\n      for (var i = 0; i < keyCodes.length; i += 1) {\n        this.releaseKey(keyCodes[i]);\n      }\n    }\n\n    else {\n      const keyNames         = this.getKeyNames(keyCode);\n      const killKeyCodeIndex = this._killKeyCodes.indexOf(keyCode);\n      \n      if (killKeyCodeIndex > -1) {\n        this.pressedKeys.length = 0;\n      } else {\n        for (var i = 0; i < keyNames.length; i += 1) {\n          const index = this.pressedKeys.indexOf(keyNames[i]);\n          if (index > -1) {\n            this.pressedKeys.splice(index, 1);\n          }\n        }\n      }\n\n      this._clearMacros();\n    }\n  }\n\n  _applyMacros() {\n    const macros = this._macros.slice(0);\n    for (let i = 0; i < macros.length; i += 1) {\n      const macro = macros[i];\n      if (macro.keyCombo.check(this.pressedKeys)) {\n        if (macro.handler) {\n          macro.keyNames = macro.handler(this.pressedKeys);\n        }\n        for (let j = 0; j < macro.keyNames.length; j += 1) {\n          if (!this.pressedKeys.includes(macro.keyNames[j])) {\n            this.pressedKeys.push(macro.keyNames[j]);\n          }\n        }\n        this._appliedMacros.push(macro);\n      }\n    }\n  }\n\n  _clearMacros() {\n    for (let i = 0; i < this._appliedMacros.length; i += 1) {\n      const macro = this._appliedMacros[i];\n      if (!macro.keyCombo.check(this.pressedKeys)) {\n        for (let j = 0; j < macro.keyNames.length; j += 1) {\n          const index = this.pressedKeys.indexOf(macro.keyNames[j]);\n          if (index > -1) {\n            this.pressedKeys.splice(index, 1);\n          }\n        }\n        if (macro.handler) {\n          macro.keyNames = null;\n        }\n        this._appliedMacros.splice(i, 1);\n        i -= 1;\n      }\n    }\n  }\n}\n\n\nexport default Locale;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/locale.js","\nclass KeyCombo {\n  constructor(keyComboStr) {\n    this.sourceStr = keyComboStr;\n    this.subCombos = KeyCombo.parseComboStr(keyComboStr);\n    this.keyNames  = this.subCombos.reduce((memo, nextSubCombo) => memo.concat(nextSubCombo), []);\n  }\n\n  check(pressedKeyNames) {\n    let startingKeyNameIndex = 0;\n    for (let i = 0; i < this.subCombos.length; i += 1) {\n      startingKeyNameIndex = this._checkSubCombo(\n        this.subCombos[i],\n        startingKeyNameIndex,\n        pressedKeyNames\n      );\n      if (startingKeyNameIndex === -1) { return false; }\n    }\n    return true;\n  }\n\n  isEqual(otherKeyCombo) {\n    if (\n      !otherKeyCombo ||\n      typeof otherKeyCombo !== 'string' &&\n      typeof otherKeyCombo !== 'object'\n    ) { return false; }\n\n    if (typeof otherKeyCombo === 'string') {\n      otherKeyCombo = new KeyCombo(otherKeyCombo);\n    }\n\n    if (this.subCombos.length !== otherKeyCombo.subCombos.length) {\n      return false;\n    }\n    for (var i = 0; i < this.subCombos.length; i += 1) {\n      if (this.subCombos[i].length !== otherKeyCombo.subCombos[i].length) {\n        return false;\n      }\n    }\n\n    for (var i = 0; i < this.subCombos.length; i += 1) {\n      const subCombo      = this.subCombos[i];\n      const otherSubCombo = otherKeyCombo.subCombos[i].slice(0);\n\n      for (let j = 0; j < subCombo.length; j += 1) {\n        const keyName = subCombo[j];\n        const index   = otherSubCombo.indexOf(keyName);\n\n        if (index > -1) {\n          otherSubCombo.splice(index, 1);\n        }\n      }\n      if (otherSubCombo.length !== 0) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  _checkSubCombo(subCombo, startingKeyNameIndex, pressedKeyNames) {\n    subCombo = subCombo.slice(0);\n    pressedKeyNames = pressedKeyNames.slice(startingKeyNameIndex);\n\n    let endIndex = startingKeyNameIndex;\n    for (let i = 0; i < subCombo.length; i += 1) {\n\n      let keyName = subCombo[i];\n      if (keyName[0] === '\\\\') {\n        const escapedKeyName = keyName.slice(1);\n        if (\n          escapedKeyName === KeyCombo.comboDeliminator ||\n          escapedKeyName === KeyCombo.keyDeliminator\n        ) {\n          keyName = escapedKeyName;\n        }\n      }\n\n      const index = pressedKeyNames.indexOf(keyName);\n      if (index > -1) {\n        subCombo.splice(i, 1);\n        i -= 1;\n        if (index > endIndex) {\n          endIndex = index;\n        }\n        if (subCombo.length === 0) {\n          return endIndex;\n        }\n      }\n    }\n    return -1;\n  }\n}\n\n// TODO: Add support for key combo sequences\nKeyCombo.sequenceDeliminator = '>>';\nKeyCombo.comboDeliminator    = '>';\nKeyCombo.keyDeliminator      = '+';\n\nKeyCombo.parseComboStr = keyComboStr => {\n  const subComboStrs = KeyCombo._splitStr(keyComboStr, KeyCombo.comboDeliminator);\n  const combo        = [];\n\n  for (let i = 0 ; i < subComboStrs.length; i += 1) {\n    combo.push(KeyCombo._splitStr(subComboStrs[i], KeyCombo.keyDeliminator));\n  }\n  return combo;\n};\n\nKeyCombo._splitStr = (str, deliminator) => {\n  const s  = str;\n  const d  = deliminator;\n  let c  = '';\n  const ca = [];\n\n  for (let ci = 0; ci < s.length; ci += 1) {\n    if (ci > 0 && s[ci] === d && s[ci - 1] !== '\\\\') {\n      ca.push(c.trim());\n      c = '';\n      ci += 1;\n    }\n    c += s[ci];\n  }\n  if (c) { ca.push(c.trim()); }\n\n  return ca;\n};\n\n\nexport default KeyCombo;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/key-combo.js","\nexport default (locale, platform, userAgent) => {\n\n  // general\n  locale.bindKeyCode(3,   ['cancel']);\n  locale.bindKeyCode(8,   ['backspace']);\n  locale.bindKeyCode(9,   ['tab']);\n  locale.bindKeyCode(12,  ['clear']);\n  locale.bindKeyCode(13,  ['enter']);\n  locale.bindKeyCode(16,  ['shift']);\n  locale.bindKeyCode(17,  ['ctrl']);\n  locale.bindKeyCode(18,  ['alt', 'menu']);\n  locale.bindKeyCode(19,  ['pause', 'break']);\n  locale.bindKeyCode(20,  ['capslock']);\n  locale.bindKeyCode(27,  ['escape', 'esc']);\n  locale.bindKeyCode(32,  ['space', 'spacebar']);\n  locale.bindKeyCode(33,  ['pageup']);\n  locale.bindKeyCode(34,  ['pagedown']);\n  locale.bindKeyCode(35,  ['end']);\n  locale.bindKeyCode(36,  ['home']);\n  locale.bindKeyCode(37,  ['left']);\n  locale.bindKeyCode(38,  ['up']);\n  locale.bindKeyCode(39,  ['right']);\n  locale.bindKeyCode(40,  ['down']);\n  locale.bindKeyCode(41,  ['select']);\n  locale.bindKeyCode(42,  ['printscreen']);\n  locale.bindKeyCode(43,  ['execute']);\n  locale.bindKeyCode(44,  ['snapshot']);\n  locale.bindKeyCode(45,  ['insert', 'ins']);\n  locale.bindKeyCode(46,  ['delete', 'del']);\n  locale.bindKeyCode(47,  ['help']);\n  locale.bindKeyCode(145, ['scrolllock', 'scroll']);\n  locale.bindKeyCode(187, ['equal', 'equalsign', '=']);\n  locale.bindKeyCode(188, ['comma', ',']);\n  locale.bindKeyCode(190, ['period', '.']);\n  locale.bindKeyCode(191, ['slash', 'forwardslash', '/']);\n  locale.bindKeyCode(192, ['graveaccent', '`']);\n  locale.bindKeyCode(219, ['openbracket', '[']);\n  locale.bindKeyCode(220, ['backslash', '\\\\']);\n  locale.bindKeyCode(221, ['closebracket', ']']);\n  locale.bindKeyCode(222, ['apostrophe', '\\'']);\n\n  // 0-9\n  locale.bindKeyCode(48, ['zero', '0']);\n  locale.bindKeyCode(49, ['one', '1']);\n  locale.bindKeyCode(50, ['two', '2']);\n  locale.bindKeyCode(51, ['three', '3']);\n  locale.bindKeyCode(52, ['four', '4']);\n  locale.bindKeyCode(53, ['five', '5']);\n  locale.bindKeyCode(54, ['six', '6']);\n  locale.bindKeyCode(55, ['seven', '7']);\n  locale.bindKeyCode(56, ['eight', '8']);\n  locale.bindKeyCode(57, ['nine', '9']);\n\n  // numpad\n  locale.bindKeyCode(96, ['numzero', 'num0']);\n  locale.bindKeyCode(97, ['numone', 'num1']);\n  locale.bindKeyCode(98, ['numtwo', 'num2']);\n  locale.bindKeyCode(99, ['numthree', 'num3']);\n  locale.bindKeyCode(100, ['numfour', 'num4']);\n  locale.bindKeyCode(101, ['numfive', 'num5']);\n  locale.bindKeyCode(102, ['numsix', 'num6']);\n  locale.bindKeyCode(103, ['numseven', 'num7']);\n  locale.bindKeyCode(104, ['numeight', 'num8']);\n  locale.bindKeyCode(105, ['numnine', 'num9']);\n  locale.bindKeyCode(106, ['nummultiply', 'num*']);\n  locale.bindKeyCode(107, ['numadd', 'num+']);\n  locale.bindKeyCode(108, ['numenter']);\n  locale.bindKeyCode(109, ['numsubtract', 'num-']);\n  locale.bindKeyCode(110, ['numdecimal', 'num.']);\n  locale.bindKeyCode(111, ['numdivide', 'num/']);\n  locale.bindKeyCode(144, ['numlock', 'num']);\n\n  // function keys\n  locale.bindKeyCode(112, ['f1']);\n  locale.bindKeyCode(113, ['f2']);\n  locale.bindKeyCode(114, ['f3']);\n  locale.bindKeyCode(115, ['f4']);\n  locale.bindKeyCode(116, ['f5']);\n  locale.bindKeyCode(117, ['f6']);\n  locale.bindKeyCode(118, ['f7']);\n  locale.bindKeyCode(119, ['f8']);\n  locale.bindKeyCode(120, ['f9']);\n  locale.bindKeyCode(121, ['f10']);\n  locale.bindKeyCode(122, ['f11']);\n  locale.bindKeyCode(123, ['f12']);\n\n  // secondary key symbols\n  locale.bindMacro('shift + `', ['tilde', '~']);\n  locale.bindMacro('shift + 1', ['exclamation', 'exclamationpoint', '!']);\n  locale.bindMacro('shift + 2', ['at', '@']);\n  locale.bindMacro('shift + 3', ['number', '#']);\n  locale.bindMacro('shift + 4', ['dollar', 'dollars', 'dollarsign', '$']);\n  locale.bindMacro('shift + 5', ['percent', '%']);\n  locale.bindMacro('shift + 6', ['caret', '^']);\n  locale.bindMacro('shift + 7', ['ampersand', 'and', '&']);\n  locale.bindMacro('shift + 8', ['asterisk', '*']);\n  locale.bindMacro('shift + 9', ['openparen', '(']);\n  locale.bindMacro('shift + 0', ['closeparen', ')']);\n  locale.bindMacro('shift + -', ['underscore', '_']);\n  locale.bindMacro('shift + =', ['plus', '+']);\n  locale.bindMacro('shift + [', ['opencurlybrace', 'opencurlybracket', '{']);\n  locale.bindMacro('shift + ]', ['closecurlybrace', 'closecurlybracket', '}']);\n  locale.bindMacro('shift + \\\\', ['verticalbar', '|']);\n  locale.bindMacro('shift + ;', ['colon', ':']);\n  locale.bindMacro('shift + \\'', ['quotationmark', '\\'']);\n  locale.bindMacro('shift + !,', ['openanglebracket', '<']);\n  locale.bindMacro('shift + .', ['closeanglebracket', '>']);\n  locale.bindMacro('shift + /', ['questionmark', '?']);\n\n  //a-z and A-Z\n  for (let keyCode = 65; keyCode <= 90; keyCode += 1) {\n    const keyName = String.fromCharCode(keyCode + 32);\n    const capitalKeyName = String.fromCharCode(keyCode);\n  \tlocale.bindKeyCode(keyCode, keyName);\n  \tlocale.bindMacro('shift + ' + keyName, capitalKeyName);\n  \tlocale.bindMacro('capslock + ' + keyName, capitalKeyName);\n  }\n\n  // browser caveats\n  const semicolonKeyCode = userAgent.match('Firefox') ? 59  : 186;\n  const dashKeyCode      = userAgent.match('Firefox') ? 173 : 189;\n  let leftCommandKeyCode;\n  let rightCommandKeyCode;\n  if (platform.match('Mac') && (userAgent.match('Safari') || userAgent.match('Chrome'))) {\n    leftCommandKeyCode  = 91;\n    rightCommandKeyCode = 93;\n  } else if(platform.match('Mac') && userAgent.match('Opera')) {\n    leftCommandKeyCode  = 17;\n    rightCommandKeyCode = 17;\n  } else if(platform.match('Mac') && userAgent.match('Firefox')) {\n    leftCommandKeyCode  = 224;\n    rightCommandKeyCode = 224;\n  }\n  locale.bindKeyCode(semicolonKeyCode,    ['semicolon', ';']);\n  locale.bindKeyCode(dashKeyCode,         ['dash', '-']);\n  locale.bindKeyCode(leftCommandKeyCode,  ['command', 'windows', 'win', 'super', 'leftcommand', 'leftwindows', 'leftwin', 'leftsuper']);\n  locale.bindKeyCode(rightCommandKeyCode, ['command', 'windows', 'win', 'super', 'rightcommand', 'rightwindows', 'rightwin', 'rightsuper']);\n\n  // kill keys\n  locale.setKillKey('command');\n};\n\n\n\n// WEBPACK FOOTER //\n// ./locales/us.js"],"sourceRoot":""}