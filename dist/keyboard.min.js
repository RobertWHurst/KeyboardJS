!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("keyboardJS",[],t):"object"==typeof exports?exports.keyboardJS=t():e.keyboardJS=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.KeyCombo=t.Locale=t.Keyboard=void 0;var o=n(1),s=i(o),r=n(2),a=i(r),l=n(3),d=i(l),u=n(4),c=i(u),y=new s.default;y.setLocale("us",c.default),e.exports=y,t.Keyboard=s.default,t.Locale=a.default,t.KeyCombo=d.default},function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(2),l=i(a),d=n(3),u=i(d),c=function(){function t(e,n,i,s){o(this,t),this._locale=null,this._currentContext=null,this._contexts={},this._listeners=[],this._appliedListeners=[],this._locales={},this._targetElement=null,this._targetWindow=null,this._targetPlatform="",this._targetUserAgent="",this._isModernBrowser=!1,this._targetKeyDownBinding=null,this._targetKeyUpBinding=null,this._targetResetBinding=null,this._paused=!1,this.setContext("global"),this.watch(e,n,i,s)}return r(t,[{key:"setLocale",value:function(e,t){var n=null;"string"==typeof e?t?(n=new l.default(e),t(n,this._targetPlatform,this._targetUserAgent)):n=this._locales[e]||null:(n=e,e=n._localeName),this._locale=n,this._locales[e]=n,n&&(this._locale.pressedKeys=n.pressedKeys)}},{key:"getLocale",value:function(e){return e||(e=this._locale.localeName),this._locales[e]||null}},{key:"bind",value:function(e,t,n,i){if(null!==e&&"function"!=typeof e||(i=n,n=t,t=e,e=null),e&&"object"===("undefined"==typeof e?"undefined":s(e))&&"number"==typeof e.length)for(var o=0;o<e.length;o+=1)this.bind(e[o],t,n);else this._listeners.push({keyCombo:e?new u.default(e):null,pressHandler:t||null,releaseHandler:n||null,preventRepeat:i||!1,preventRepeatByDefault:i||!1})}},{key:"unbind",value:function(e,t,n){if(null!==e&&"function"!=typeof e||(n=t,t=e,e=null),e&&"object"===("undefined"==typeof e?"undefined":s(e))&&"number"==typeof e.length)for(var i=0;i<e.length;i+=1)this.unbind(e[i],t,n);else for(var i=0;i<this._listeners.length;i+=1){var o=this._listeners[i],r=!e&&!o.keyCombo||o.keyCombo&&o.keyCombo.isEqual(e),a=!t&&!n||!t&&!o.pressHandler||t===o.pressHandler,l=!t&&!n||!n&&!o.releaseHandler||n===o.releaseHandler;r&&a&&l&&(this._listeners.splice(i,1),i-=1)}}},{key:"setContext",value:function(e){this._locale&&this.releaseAllKeys(),this._contexts[e]||(this._contexts[e]=[]),this._listeners=this._contexts[e],this._currentContext=e}},{key:"getContext",value:function(){return this._currentContext}},{key:"withContext",value:function(e,t){var n=this.getContext();this.setContext(e),t(),this.setContext(n)}},{key:"watch",value:function(t,n,i,o){var s=this;if(this.stop(),!t){if(!e.addEventListener&&!e.attachEvent)throw new Error("Cannot find global functions addEventListener or attachEvent.");t=e}if("number"==typeof t.nodeType&&(o=i,i=n,n=t,t=e),!t.addEventListener&&!t.attachEvent)throw new Error("Cannot find addEventListener or attachEvent methods on targetWindow.");this._isModernBrowser=!!t.addEventListener;var r=t.navigator&&t.navigator.userAgent||"",a=t.navigator&&t.navigator.platform||"";n&&null!==n||(n=t.document),i&&null!==i||(i=a),o&&null!==o||(o=r),this._targetKeyDownBinding=function(e){s.pressKey(e.keyCode,e)},this._targetKeyUpBinding=function(e){s.releaseKey(e.keyCode,e)},this._targetResetBinding=function(e){s.releaseAllKeys(e)},this._bindEvent(n,"keydown",this._targetKeyDownBinding),this._bindEvent(n,"keyup",this._targetKeyUpBinding),this._bindEvent(t,"focus",this._targetResetBinding),this._bindEvent(t,"blur",this._targetResetBinding),this._targetElement=n,this._targetWindow=t,this._targetPlatform=i,this._targetUserAgent=o}},{key:"stop",value:function(){this._targetElement&&this._targetWindow&&(this._unbindEvent(this._targetElement,"keydown",this._targetKeyDownBinding),this._unbindEvent(this._targetElement,"keyup",this._targetKeyUpBinding),this._unbindEvent(this._targetWindow,"focus",this._targetResetBinding),this._unbindEvent(this._targetWindow,"blur",this._targetResetBinding),this._targetWindow=null,this._targetElement=null)}},{key:"pressKey",value:function(e,t){if(!this._paused){if(!this._locale)throw new Error("Locale not set");this._locale.pressKey(e),this._applyBindings(t)}}},{key:"releaseKey",value:function(e,t){if(!this._paused){if(!this._locale)throw new Error("Locale not set");this._locale.releaseKey(e),this._clearBindings(t)}}},{key:"releaseAllKeys",value:function(e){if(!this._paused){if(!this._locale)throw new Error("Locale not set");this._locale.pressedKeys.length=0,this._clearBindings(e)}}},{key:"pause",value:function(){this._paused||(this._locale&&this.releaseAllKeys(),this._paused=!0)}},{key:"resume",value:function(){this._paused=!1}},{key:"reset",value:function(){this.releaseAllKeys(),this._listeners.length=0}},{key:"_bindEvent",value:function(e,t,n){return this._isModernBrowser?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}},{key:"_unbindEvent",value:function(e,t,n){return this._isModernBrowser?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)}},{key:"_getGroupedListeners",value:function(){var e=[],t=[],n=this._listeners;return"global"!==this._currentContext&&(n=[].concat(n,this._contexts.global)),n.sort(function(e,t){return(t.keyCombo?t.keyCombo.keyNames.length:0)-(e.keyCombo?e.keyCombo.keyNames.length:0)}).forEach(function(n){for(var i=-1,o=0;o<t.length;o+=1)(null===t[o]&&null===n.keyCombo||null!==t[o]&&t[o].isEqual(n.keyCombo))&&(i=o);i===-1&&(i=t.length,t.push(n.keyCombo)),e[i]||(e[i]=[]),e[i].push(n)}),e}},{key:"_applyBindings",value:function(e){var t=!1;e||(e={}),e.preventRepeat=function(){t=!0},e.pressedKeys=this._locale.pressedKeys.slice(0);for(var n=this._locale.pressedKeys.slice(0),i=this._getGroupedListeners(),o=0;o<i.length;o+=1){var s=i[o],r=s[0].keyCombo;if(null===r||r.check(n)){for(var a=0;a<s.length;a+=1){var l=s[a];null===r&&(l={keyCombo:new u.default(n.join("+")),pressHandler:l.pressHandler,releaseHandler:l.releaseHandler,preventRepeat:l.preventRepeat,preventRepeatByDefault:l.preventRepeatByDefault}),l.pressHandler&&!l.preventRepeat&&(l.pressHandler.call(this,e),t&&(l.preventRepeat=t,t=!1)),l.releaseHandler&&!this._appliedListeners.includes(l)&&this._appliedListeners.push(l)}if(r)for(var a=0;a<r.keyNames.length;a+=1){var d=n.indexOf(r.keyNames[a]);d!==-1&&(n.splice(d,1),a-=1)}}}}},{key:"_clearBindings",value:function(e){e||(e={});for(var t=0;t<this._appliedListeners.length;t+=1){var n=this._appliedListeners[t],i=n.keyCombo;null!==i&&i.check(this._locale.pressedKeys)||(n.preventRepeat=n.preventRepeatByDefault,n.releaseHandler.call(this,e),this._appliedListeners.splice(t,1),t-=1)}}}]),t}();c.prototype.addListener=c.prototype.bind,c.prototype.on=c.prototype.bind,c.prototype.removeListener=c.prototype.unbind,c.prototype.off=c.prototype.unbind,t.default=c}).call(t,function(){return this}())},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(3),a=i(r),l=function(){function e(t){o(this,e),this.localeName=t,this.pressedKeys=[],this._appliedMacros=[],this._keyMap={},this._killKeyCodes=[],this._macros=[]}return s(e,[{key:"bindKeyCode",value:function(e,t){"string"==typeof t&&(t=[t]),this._keyMap[e]=t}},{key:"bindMacro",value:function(e,t){"string"==typeof t&&(t=[t]);var n=null;"function"==typeof t&&(n=t,t=null);var i={keyCombo:new a.default(e),keyNames:t,handler:n};this._macros.push(i)}},{key:"getKeyCodes",value:function(e){var t=[];for(var n in this._keyMap){var i=this._keyMap[n].indexOf(e);i>-1&&t.push(0|n)}return t}},{key:"getKeyNames",value:function(e){return this._keyMap[e]||[]}},{key:"setKillKey",value:function(e){if("string"!=typeof e)this._killKeyCodes.push(e);else for(var t=this.getKeyCodes(e),n=0;n<t.length;n+=1)this.setKillKey(t[n])}},{key:"pressKey",value:function(e){if("string"!=typeof e){for(var t=this.getKeyNames(e),n=0;n<t.length;n+=1)this.pressedKeys.includes(t[n])||this.pressedKeys.push(t[n]);this._applyMacros()}else for(var i=this.getKeyCodes(e),n=0;n<i.length;n+=1)this.pressKey(i[n])}},{key:"releaseKey",value:function(e){if("string"==typeof e)for(var t=this.getKeyCodes(e),n=0;n<t.length;n+=1)this.releaseKey(t[n]);else{var i=this.getKeyNames(e),o=this._killKeyCodes.indexOf(e);if(o>-1)this.pressedKeys.length=0;else for(var n=0;n<i.length;n+=1){var s=this.pressedKeys.indexOf(i[n]);s>-1&&this.pressedKeys.splice(s,1)}this._clearMacros()}}},{key:"_applyMacros",value:function(){for(var e=this._macros.slice(0),t=0;t<e.length;t+=1){var n=e[t];if(n.keyCombo.check(this.pressedKeys)){n.handler&&(n.keyNames=n.handler(this.pressedKeys));for(var i=0;i<n.keyNames.length;i+=1)this.pressedKeys.includes(n.keyNames[i])||this.pressedKeys.push(n.keyNames[i]);this._appliedMacros.push(n)}}}},{key:"_clearMacros",value:function(){for(var e=0;e<this._appliedMacros.length;e+=1){var t=this._appliedMacros[e];if(!t.keyCombo.check(this.pressedKeys)){for(var n=0;n<t.keyNames.length;n+=1){var i=this.pressedKeys.indexOf(t.keyNames[n]);i>-1&&this.pressedKeys.splice(i,1)}t.handler&&(t.keyNames=null),this._appliedMacros.splice(e,1),e-=1}}}}]),e}();t.default=l},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t){n(this,e),this.sourceStr=t,this.subCombos=e.parseComboStr(t),this.keyNames=this.subCombos.reduce(function(e,t){return e.concat(t)},[])}return o(e,[{key:"check",value:function(e){for(var t=0,n=0;n<this.subCombos.length;n+=1)if(t=this._checkSubCombo(this.subCombos[n],t,e),t===-1)return!1;return!0}},{key:"isEqual",value:function(t){if(!t||"string"!=typeof t&&"object"!==("undefined"==typeof t?"undefined":i(t)))return!1;if("string"==typeof t&&(t=new e(t)),this.subCombos.length!==t.subCombos.length)return!1;for(var n=0;n<this.subCombos.length;n+=1)if(this.subCombos[n].length!==t.subCombos[n].length)return!1;for(var n=0;n<this.subCombos.length;n+=1){for(var o=this.subCombos[n],s=t.subCombos[n].slice(0),r=0;r<o.length;r+=1){var a=o[r],l=s.indexOf(a);l>-1&&s.splice(l,1)}if(0!==s.length)return!1}return!0}},{key:"_checkSubCombo",value:function(t,n,i){t=t.slice(0),i=i.slice(n);for(var o=n,s=0;s<t.length;s+=1){var r=t[s];if("\\"===r[0]){var a=r.slice(1);a!==e.comboDeliminator&&a!==e.keyDeliminator||(r=a)}var l=i.indexOf(r);if(l>-1&&(t.splice(s,1),s-=1,l>o&&(o=l),0===t.length))return o}return-1}}]),e}();s.sequenceDeliminator=">>",s.comboDeliminator=">",s.keyDeliminator="+",s.parseComboStr=function(e){for(var t=s._splitStr(e,s.comboDeliminator),n=[],i=0;i<t.length;i+=1)n.push(s._splitStr(t[i],s.keyDeliminator));return n},s._splitStr=function(e,t){for(var n=e,i=t,o="",s=[],r=0;r<n.length;r+=1)r>0&&n[r]===i&&"\\"!==n[r-1]&&(s.push(o.trim()),o="",r+=1),o+=n[r];return o&&s.push(o.trim()),s},t.default=s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){e.bindKeyCode(3,["cancel"]),e.bindKeyCode(8,["backspace"]),e.bindKeyCode(9,["tab"]),e.bindKeyCode(12,["clear"]),e.bindKeyCode(13,["enter"]),e.bindKeyCode(16,["shift"]),e.bindKeyCode(17,["ctrl"]),e.bindKeyCode(18,["alt","menu"]),e.bindKeyCode(19,["pause","break"]),e.bindKeyCode(20,["capslock"]),e.bindKeyCode(27,["escape","esc"]),e.bindKeyCode(32,["space","spacebar"]),e.bindKeyCode(33,["pageup"]),e.bindKeyCode(34,["pagedown"]),e.bindKeyCode(35,["end"]),e.bindKeyCode(36,["home"]),e.bindKeyCode(37,["left"]),e.bindKeyCode(38,["up"]),e.bindKeyCode(39,["right"]),e.bindKeyCode(40,["down"]),e.bindKeyCode(41,["select"]),e.bindKeyCode(42,["printscreen"]),e.bindKeyCode(43,["execute"]),e.bindKeyCode(44,["snapshot"]),e.bindKeyCode(45,["insert","ins"]),e.bindKeyCode(46,["delete","del"]),e.bindKeyCode(47,["help"]),e.bindKeyCode(145,["scrolllock","scroll"]),e.bindKeyCode(187,["equal","equalsign","="]),e.bindKeyCode(188,["comma",","]),e.bindKeyCode(190,["period","."]),e.bindKeyCode(191,["slash","forwardslash","/"]),e.bindKeyCode(192,["graveaccent","`"]),e.bindKeyCode(219,["openbracket","["]),e.bindKeyCode(220,["backslash","\\"]),e.bindKeyCode(221,["closebracket","]"]),e.bindKeyCode(222,["apostrophe","'"]),e.bindKeyCode(48,["zero","0"]),e.bindKeyCode(49,["one","1"]),e.bindKeyCode(50,["two","2"]),e.bindKeyCode(51,["three","3"]),e.bindKeyCode(52,["four","4"]),e.bindKeyCode(53,["five","5"]),e.bindKeyCode(54,["six","6"]),e.bindKeyCode(55,["seven","7"]),e.bindKeyCode(56,["eight","8"]),e.bindKeyCode(57,["nine","9"]),e.bindKeyCode(96,["numzero","num0"]),e.bindKeyCode(97,["numone","num1"]),e.bindKeyCode(98,["numtwo","num2"]),e.bindKeyCode(99,["numthree","num3"]),e.bindKeyCode(100,["numfour","num4"]),e.bindKeyCode(101,["numfive","num5"]),e.bindKeyCode(102,["numsix","num6"]),e.bindKeyCode(103,["numseven","num7"]),e.bindKeyCode(104,["numeight","num8"]),e.bindKeyCode(105,["numnine","num9"]),e.bindKeyCode(106,["nummultiply","num*"]),e.bindKeyCode(107,["numadd","num+"]),e.bindKeyCode(108,["numenter"]),e.bindKeyCode(109,["numsubtract","num-"]),e.bindKeyCode(110,["numdecimal","num."]),e.bindKeyCode(111,["numdivide","num/"]),e.bindKeyCode(144,["numlock","num"]),e.bindKeyCode(112,["f1"]),e.bindKeyCode(113,["f2"]),e.bindKeyCode(114,["f3"]),e.bindKeyCode(115,["f4"]),e.bindKeyCode(116,["f5"]),e.bindKeyCode(117,["f6"]),e.bindKeyCode(118,["f7"]),e.bindKeyCode(119,["f8"]),e.bindKeyCode(120,["f9"]),e.bindKeyCode(121,["f10"]),e.bindKeyCode(122,["f11"]),e.bindKeyCode(123,["f12"]),e.bindMacro("shift + `",["tilde","~"]),e.bindMacro("shift + 1",["exclamation","exclamationpoint","!"]),e.bindMacro("shift + 2",["at","@"]),e.bindMacro("shift + 3",["number","#"]),e.bindMacro("shift + 4",["dollar","dollars","dollarsign","$"]),e.bindMacro("shift + 5",["percent","%"]),e.bindMacro("shift + 6",["caret","^"]),e.bindMacro("shift + 7",["ampersand","and","&"]),e.bindMacro("shift + 8",["asterisk","*"]),e.bindMacro("shift + 9",["openparen","("]),e.bindMacro("shift + 0",["closeparen",")"]),e.bindMacro("shift + -",["underscore","_"]),e.bindMacro("shift + =",["plus","+"]),e.bindMacro("shift + [",["opencurlybrace","opencurlybracket","{"]),e.bindMacro("shift + ]",["closecurlybrace","closecurlybracket","}"]),e.bindMacro("shift + \\",["verticalbar","|"]),e.bindMacro("shift + ;",["colon",":"]),e.bindMacro("shift + '",["quotationmark","'"]),e.bindMacro("shift + !,",["openanglebracket","<"]),e.bindMacro("shift + .",["closeanglebracket",">"]),e.bindMacro("shift + /",["questionmark","?"]);for(var i=65;i<=90;i+=1){var o=String.fromCharCode(i+32),s=String.fromCharCode(i);e.bindKeyCode(i,o),e.bindMacro("shift + "+o,s),e.bindMacro("capslock + "+o,s)}var r=n.match("Firefox")?59:186,a=n.match("Firefox")?173:189,l=void 0,d=void 0;t.match("Mac")&&(n.match("Safari")||n.match("Chrome"))?(l=91,d=93):t.match("Mac")&&n.match("Opera")?(l=17,d=17):t.match("Mac")&&n.match("Firefox")&&(l=224,d=224),e.bindKeyCode(r,["semicolon",";"]),e.bindKeyCode(a,["dash","-"]),e.bindKeyCode(l,["command","windows","win","super","leftcommand","leftwindows","leftwin","leftsuper"]),e.bindKeyCode(d,["command","windows","win","super","rightcommand","rightwindows","rightwin","rightsuper"]),e.setKillKey("command")}}])});
//# sourceMappingURL=keyboard.min.js.map