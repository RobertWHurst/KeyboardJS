
<!DOCTYPE HTML>
<html lang="en-CA">
<head>
  <meta charset="UTF-8">
  <title>KeyboardJS Demo - "Build your app, I'll handle the keys."</title>
  <meta name="description" content="A JavaScript library for binding keyboard combos without the pain of key codes and key combo conflicts. It can be used as both a standalone library or an AMD module (see RequireJS for details).">
  <link rel="stylesheet" href="style.css">
  <script src="keyboard.js"></script>
  <script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
  <script>
$(function() {
  var $demoReadout, konami, kI = 0;

  $demoReadout = $('.demoReadout');
  konami = ['up', 'up', 'down', 'down', 'left', 'right', 'left', 'right', 'b', 'a'];

  $(document).on('keydown', updateReadout);
  $(document).on('keyup', updateReadout);

  function updateReadout() {
    setTimeout(function() {
      var keys, keysString;

      keys = KeyboardJS.activeKeys();
      if(keys.length) {
        keysString = keys.join(', ');
        for(var i = 0; i < keys.length; i += 1) {
          //check to see if the key is part of the konami code
          if(keys[i] === konami[kI]) {
            if(kI < konami.length - 1) {
              kI += 1;
            } else {
              window.location = "http://en.wikipedia.org/wiki/Konami_Code";
            }
          } else {
            kI = 0;
          }
        }
      } else {
        keysString = 'Press some keys...';
      }
      $demoReadout.html(keysString);
    }, 0);
  }
});
  </script>
</head>
<body>
<div class="wrapper">
  <header style="position: relative;">
    <a href="http://github.com/RobertWHurst/KeyboardJS"><img style="position: absolute; top: -84px; left: -60px; border: 0;" src="https://a248.e.akamai.net/camo.github.com/5d21241b64dc708fcbb701f68f72f41e9f1fadd6/687474703a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f6c6566745f7265645f6161303030302e706e67" alt="Fork me on GitHub"></a>
    <h1 class="title">KeyboardJS</h1>
    <h2 class="subtitle">"Build your app, I'll handle the keys."</h2>
  </header>
  <div class="content">

    <h1>Demo</h1>
    <div class="demoReadout">
      JS is required...
    </div>

    <h1>What is KeyboardJS?</h1>
    <div>
      A JavaScript library for binding keyboard combos without the pain of key codes and key combo conflicts.
      It can be used as both a standalone library or an AMD module (see
      <a href="http://requirejs.org/" target="_blank">RequireJS</a> for details).
    </div>

    <iframe width="460" height="285" src="http://www.youtube.com/embed/Wev90AwQsjA?feature=player_embedded" frameborder="0" allowfullscreen></iframe>


    <h1>Get it Here</h1>
    <div class="downloads">
      <a href="https://github.com/RobertWHurst/KeyboardJS/zipball/v0.3.3" class="download">KeyboardJS v0.3.3</a>
    </div>

    <h1>Language Support</h1>
    <div>
      KeyboardJS can support any locale, however out of the box it just comes with the US locale (for now).
      Adding a new locale is easy. Map your keyboard to an object and pass it to
      KeyboardJS.locale.register(localeName, localeDefinition) then call KeyboardJS.locale(localeName).
      <br>
      <br>
      If you create a new locale please consider sending me a pull request or submit it to the
      <a href="http://github.com/RobertWHurst/KeyboardJS/issues">issue tracker</a> so I can add it to the library.
    </div>

    <h1>Methods</h1>

    <h2>KeyboardJS.on</h2>
    <h3>Usage</h3>
    <div class="code">KeyboardJS.on(keyCombo, onDownCallback, onUpCallback);</div>
    <div>
      Binds any key or key combo. See 'keyCombo' definition below
      for details. The onDownCallback is fired once the key or key combo becomes active. The
      onUpCallback is fired when the combo no longer active (a single key is released).
      <br>
      <br>
      Both the onUpCallback and the onUpCallback are passed three arguments. The first is the
      key event, the second is the keys pressed, and the third is the key combo string.
    </div>
    <h3>Returned</h3>
    <ul>
      <li><span class="code">clear()</span> - Removes the key or key combo binding.</li>
      <li><span class="code">on()</span> - Allows you to bind to the keyup and keydown event of the given combo. An alternative to adding the onDownCallback and onUpCallback.</li>
    </ul>

    <h2>KeyboardJS.activeKeys</h2>
    <h3>Usage</h3>
    <div class="code">KeyboardJS.activeKeys();</div>
    <div>
      Returns an array of active keys by name.
    </div>
    <h3>Returned</h3>
    <div>
      Returns an array of key names that are currently being pressed.
    </div>

    <h2>KeyboardJS.clear</h2>
    <h3>Usage</h3>
    <div class="code">KeyboardJS.clear(keyCombo);</div>
    <div>
      Removes all bindings with the given key combo. See 'keyCombo' definition for more details.
      <br>
      <br>
      Please note that if you are just trying to remove a single binding should use the clear method in the object
      returned by KeyboardJS.on instead of this. This function is for removing all binding that use a certain key.
    </div>

    <h2>KeyboardJS.clear.key</h2>
    <h3>Usage</h3>
    <div class="code">KeyboardJS.clear.key(key);</div>
    <div>
      Removes all bindings that use the given key.
    </div>

    <h2>KeyboardJS.locale</h2>
    <h3>Usage</h3>
    <div class="code">KeyboardJS.locale(localeName);</div>
    <div>
      Changes the locale keyboardJS uses to map key presses. Out of the box KeyboardJS only supports US keyboards, however
      it is possible to add additional locales via KeyboardJS.locale.register()
    </div>

    <h2>KeyboardJS.locale.register</h2>
    <h3>Usage</h3>
    <div class="code">KeyboardJS.locale.register(localeName, localeDefinition);</div>
    <div>
      Adds new locale definitions to KeyboardJS.
    </div>

    <h1>Definitions</h1>

    <h2>keyCombo</h2>
    <div>
      A string containing key names separated by whitespace, <span class="code">></span>, <span class="code">+</span>, and <span class="code">,</span>.
    </div>
    <h3>examples</h3>
    <ul>
      <li><span class="code">'a'</span> - binds to the 'a' key. Pressing 'a' will match this keyCombo.</li>
      <li><span class="code">'a, b'</span> - binds to the 'a' and 'b' keys. Pressing ether of these keys will match this keyCombo.</li>
      <li><span class="code">'a b'</span> - binds to the 'a' and 'b' keys. Pressing ether of these keys will match this keyCombo.</li>
      <li><span class="code">'a + b'</span> - binds to the 'a' and 'b' keys. Pressing both of these keys will match this keyCombo.</li>
      <li><span class="code">'a > b'</span> - binds to the 'a' and 'b' keys. Pressing 'a' then 'b' will match this keyCombo.</li>
      <li>
        <span class="code">'a + b, c + d'</span> - binds to the 'a', 'b', 'c' and 'd' keys. Pressing ether the 'a' key and the 'b' key,
        or the 'c' and the 'd' key will match this keyCombo.
      </li>
      <li>
        <span class="code">'a + b > c + d'</span> - binds to the 'a', 'b', 'c' and 'd' keys. Pressing ether the 'a' key and the 'b' key,
        then the 'c' and the 'd' key will match this keyCombo.
      </li>
    </ul>

    <h2>localeDefinitions</h2>
    <div>
      An object that maps keyNames to their keycode and stores locale specific macros. Used for mapping keys on different locales.
    </div>
    <h3>examples</h3>
    <ul>
      <li>
        <span class="code">{
  "map": {
    "65": ["a"],
    "66": ["b"],
    ...
  },
  "macros": [
    ["shift + `",  ["tilde", "~"]],
    ["shift + 1",  ["exclamation", "!"]],
    ....
  ]
}</span>
      </li>
    </ul>
  </div>
</div>
<footer>
  <h1>Credits</h1>
  <div class="credits">
    I (<a href="http://github.com/RobertWHurst" target="_blank">Robert Hurst</a>) made this to enable better
    access to key controls in my applications. I'd like to share it with fellow devs. Feel free to fork this
    project and make your own changes.
  </div>
</footer>
</body>
</html>
